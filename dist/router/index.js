"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.router = void 0;
const express_1 = require("express");
const express_validator_1 = require("express-validator");
const user_controller_1 = require("../controllers/user.controller");
const music_controller_1 = require("../controllers/music.controller");
const userController = new user_controller_1.UserController();
const musicController = new music_controller_1.MusicController();
exports.router = (0, express_1.Router)();
exports.router.post("/auth/register", (0, express_validator_1.body)("username").isLength({ min: 3, max: 25 }), (0, express_validator_1.body)("email").isEmail(), (0, express_validator_1.body)("password").isLength({ min: 8 }), userController.register);
exports.router.post("/auth/login", userController.login);
exports.router.post("/auth/logout", userController.logout);
exports.router.get("/auth/activate/:link", userController.activate);
exports.router.get("/auth/refresh", userController.refresh);
exports.router.post("/user/history", userController.addToHistory);
exports.router.post("/music", musicController.create);
exports.router.delete("/music", musicController.delete);
exports.router.get("/music", musicController.getAllMusic);
exports.router.get("/music/:id", musicController.getOneMusic);
